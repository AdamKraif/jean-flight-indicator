!function(e,t){"function"==typeof define&&define.amd?define([],t):(e.FlightIndicator=e.FlightIndicator||{},e.FlightIndicator=t())}(this,function(){var e,t;return function(i){function n(e){for(var t=0,i=[];t<e.length;t++){var n=s.resolved[e[t]];n&&i.push(n)}return i}function r(){for(var e in s.unresolved){var t=s.unresolved[e],i=n(t.dependencies);o(e,t.factory,t.dependencies,i,!1)}}function o(e,t,i,n,r){if(n.length===i.length){var o=t.apply(t,n);s.resolved[e]=o||{}}else r&&(s.unresolved[e]={dependencies:i,factory:t})}var s={resolved:{},unresolved:{}};t=function(e,t,i){return s.resolved[e]?void console.warn("There is already a module with id <"+e+"> defined. Therefore this module will be ignored"):"string"==typeof e&&Array.isArray(t)&&"function"==typeof i?(0===t.length?o(e,i,t,[],!1):o(e,i,t,n(t),!0),void r()):void console.warn("Passed arguments for module are invalid")},t.amd={},e=function(e,t){e=Array.isArray(e)?e:[e];var i=n(e);if(1===i.length&&!t)return i[0];if(i.length!==e.length||!t)throw new Error("Not all modules are resolved");t.apply(t,i)}}(),t("node_modules/jean-amd/dist/jean-amd",function(){}),t("TypeCheck",[],function(){return{isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:function(e){var t=!1;if(this.isString(e)||this.isFunction(e))return!1;if(this.isEmptyObject(e))return!0;for(var i in e)if(e.hasOwnProperty(i)){t=!0;break}return t},isEmptyObject:function(e){var t=!0;if(!this.isDefined(e)||this.isBoolean(e)||this.isFunction(e)||this.isNumber(e)||this.isString(e)||Array.isArray(e))return!1;for(var i in e)if(e.hasOwnProperty(i)){t=!1;break}return t},isFunction:function(e){return"function"==typeof e},isDefined:function(e){return void 0!==e&&null!=e},isArray:function(e){return Array.isArray(e)},isArrayTypeOf:function(e,t){var i=!0;if(!this.isString(t))throw new TypeError("options.type is not a string");if(!Array.isArray(e))throw new TypeError("options.array is not an array");0===e.length&&(i=!1);for(var n=0,r=e.length;n<r;n++){if(typeof e[n]!==t){i=!1;break}}return i}}}),t("Inheritance",["TypeCheck"],function(e){return{inheritConstructor:function(t,i,n){var r=!1,n=n||{};return e.isFunction(t)&&e.isObject(i)&&(Array.isArray(n)?t.apply(i,n):t.apply(i,[n]),r=!0),r},inheritPrototype:function(t,i){var n=!1;return e.isFunction(t)&&e.isFunction(i)&&(t.prototype=Object.create(i.prototype),t.prototype.constructor=t,n=!0),n}}}),t("NotImplementedError",[],function(){var e=function(e){this.name="NotImplementedError",this.message=e||"Function must be implemented in Class"};return e.prototype=Error.prototype,e}),t("Failure",[],function(){return{throwError:function(e){throw new Error(e)},throwTypeError:function(e){throw new TypeError(e)}}}),t("Interface",["NotImplementedError","TypeCheck","Failure"],function(e,t,i){return{areMembersImplemented:function(e,n){t.isObject(n)||i.throwTypeError("instance is not an object"),t.isArrayTypeOf(e,"string")||i.throwTypeError("memberList is no a string array");for(var r=0;r<e.length;r++)if(!n.hasOwnProperty(e[r]))throw new TypeError("Member <"+e[r]+"> is not implemented");return!0},areMethodsImplemented:function(n,r){t.isObject(r)||i.throwTypeError("instance is not an object"),t.isArrayTypeOf(n,"string")||i.throwTypeError("methodList is no a string array");for(var o=Object.getPrototypeOf(r),s=0;s<n.length;s++)if(!o.hasOwnProperty(n[s]))throw new e("Method "+n[s]+" is not implemented");return!0}}}),t("BaseOptions",[],function(){return{assets:"img/"}}),t("IndicatorBase",["TypeCheck","Interface","Failure","BaseOptions"],function(e,t,i,n){var r=function(n){e.isString(n.containerId)||i.throwTypeError("options.containerId is not a string"),t.areMethodsImplemented(["update"],this),this.svgElement=null,this.options=n,this.container=null,this.isReady=!1};return r.prototype.init=function(e){var t=this.options.containerId;this.container=document.getElementById(t),this.container||i.throwTypeError("There is no indicator container with id: "+t),this.container.innerHTML=this.options.template;var r=document.getElementById(e.svgId),o=this;r.data=n.assets+e.svgDataName,r.addEventListener("load",function(){o.svgElement=r.contentDocument,o.isReady=!0,e.onSvgReady()},!0)},r.prototype.calculatePercentage=function(e,t){return Math.abs(e)*t},r.prototype.isPositiveNumber=function(e){return e>0},r.prototype.isNegativeNumber=function(e){return e<0},r.prototype.formatCompassDegreeString=function(e){var t="";if(e=e.toFixed(0),this.isPositiveNumber(e))switch(e=e.toString(),e.length){case 1:t="000"+e;break;case 2:t="00"+e;break;case 3:t="0"+e}else if(this.isNegativeNumber(e))switch(e=Math.abs(e),e=e.toString(),e.length){case 1:t="-00"+e;break;case 2:t="-0"+e;break;case 3:t="-"+e}else t="0000";return t},r.prototype.formatHorizonDegreeString=r.prototype.formatSpeedDegreeString=function(e){var t="";if(e=e.toFixed(0),this.isPositiveNumber(e))switch(e=e.toString(),e.length){case 1:t="00"+e;break;case 2:t="0"+e;break;case 3:case 4:t=e}else if(this.isNegativeNumber(e))switch(e=Math.abs(e),e=e.toString(),e.length){case 1:t="-0"+e;break;case 2:t="-"+e;break;case 3:case 4:t=e}else t="000";return t},r.prototype.formatVSpeedString=r.prototype.formatAltitudeString=function(e){var t="";if(e=e.toFixed(0),this.isPositiveNumber(e))switch(e=e.toString(),e.length){case 1:t="0000"+e;break;case 2:t="000"+e;break;case 3:t="00"+e;break;case 4:t="0"+e;break;case 5:case 6:t=e}else if(this.isNegativeNumber(e))switch(e=Math.abs(e),e=e.toString(),e.length){case 1:t="-000"+e;break;case 2:t="-00"+e;break;case 3:t="-0"+e;break;case 4:t="-"+e;break;case 5:case 6:t=e}else t="00000";return t},r.prototype.getElementCenter=function(e){var t=e.getBBox();return{x:t.x+t.width/2,y:t.y+t.height/2}},r}),t("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),t("text!heading-html",[],function(){return'<div id="heading-module" style="width: 100%">\r\n    <object id="heading-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("HeadingIndicator",["Inheritance","IndicatorBase","text!heading-html"],function(e,t,i){var n=function(n){var r=this;n.template=i,e.inheritConstructor(t,this,n),this.init({svgId:"heading-svg",svgDataName:"heading.svg",onSvgReady:function(){r.compassRose=r.svgElement.getElementById("compass-rose"),r.compassValueText=r.svgElement.getElementById("compass-value-text"),r.compassRose.setAttribute("transform","")}})};return e.inheritPrototype(n,t),n.prototype.update=function(e){if(this.isReady){e=e>360?360:e,e=e<-360?-360:e;var t=this.getElementCenter(this.compassRose);this.compassRose.attributes.transform.nodeValue="rotate("+-e+" "+t.x+" "+t.y+")",this.compassValueText.childNodes[0].textContent=this.formatCompassDegreeString(e)}},n}),t("text!speed-html",[],function(){return'<div id="speed-module" style="width: 100%">\r\n    <object id="speed-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("SpeedIndicator",["Inheritance","IndicatorBase","text!speed-html"],function(e,t,i){var n=function(n){var r=this;n.template=i,e.inheritConstructor(t,this,n),this.init({svgId:"speed-svg",svgDataName:"speed.svg",onSvgReady:function(){r.speedNeedle=r.svgElement.getElementById("speed-needle"),r.speedValueText=r.svgElement.getElementById("speed-value-text"),r.speedNeedle.setAttribute("transform","")}})};return e.inheritPrototype(n,t),n.prototype.update=function(e){if(this.isReady){e=e>160?160:e,e=e<0?0:e;var t=this.speedNeedle.getBBox(),i=t.x+t.width/2,n=t.y+.94*t.height;this.speedNeedle.attributes.transform.nodeValue="rotate("+2*e+" "+i+" "+n+")",this.speedValueText.childNodes[0].textContent=this.formatSpeedDegreeString(e)}},n}),t("text!altitude-html",[],function(){return'<div id="altitude-module" style="width: 100%">\r\n    <object id="altitude-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("AltitudeIndicator",["Inheritance","IndicatorBase","text!altitude-html"],function(e,t,i){var n=function(n){var r=this;n.template=i,e.inheritConstructor(t,this,n),this.init({svgId:"altitude-svg",svgDataName:"altitude.svg",onSvgReady:function(){r.altitudeValueText=r.svgElement.getElementById("altitude-value-text"),r.hundredNeedle=r.svgElement.getElementById("needle-alt-hundred"),r.thousandNeedle=r.svgElement.getElementById("needle-alt-thousand"),r.tenthousandNeedle=r.svgElement.getElementById("needle-alt-tenthousand"),r.hundredNeedle.setAttribute("transform",""),r.thousandNeedle.setAttribute("transform",""),r.tenthousandNeedle.setAttribute("transform","")}}),this.degreePerHundredFeet=.36,this.degreePerThousandFeet=.036,this.degreePerTenthousandFeet=.0036};return e.inheritPrototype(n,t),n.prototype.update=function(e){if(this.isReady){e=e>1e5?1e5:e,e=e<0?0:e;var t=this.hundredNeedle.getBBox(),i=t.x+t.width/2,n=t.y+.94*t.height,r=this.degreePerHundredFeet,o=this.degreePerThousandFeet,s=this.degreePerTenthousandFeet;this.hundredNeedle.attributes.transform.nodeValue="rotate("+r*e+" "+i+" "+n+")",this.thousandNeedle.attributes.transform.nodeValue="rotate("+o*e+" "+i+" "+n+")",this.tenthousandNeedle.attributes.transform.nodeValue="rotate("+s*e+" "+i+" "+n+")",this.altitudeValueText.childNodes[0].textContent=this.formatAltitudeString(e)}},n}),t("text!horizon-html",[],function(){return'<div id="horizon-module" style="width: 100%">\r\n    <object id="horizon-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("HorizonIndicator",["Inheritance","IndicatorBase","text!horizon-html"],function(e,t,i){var n=function(n){var r=this;n.template=i,e.inheritConstructor(t,this,n),this.init({svgId:"horizon-svg",svgDataName:"horizon.svg",onSvgReady:function(){r.horizonElement=r.svgElement.getElementById("horizon-element"),r.horizonElement.setAttribute("transform",""),r.pitchValueText=r.svgElement.getElementById("pitch-value-text"),r.rollValueText=r.svgElement.getElementById("roll-value-text")}}),this.pixelBounds={PITCH_MAX:128,PITCH_MIN:-128,PIXELS_PER_PITCH:3.2},this.valueBounds={PITCH_MAX:40,PITCH_MIN:-40,ROLL_MAX:30,ROLL_MIN:-30}};return e.inheritPrototype(n,t),n.prototype.update=function(e,t){if(this.isReady){var i,n=this.pixelBounds,r=e,o=t;e=e>n.PITCH_MAX?n.PITCH_MAX:e,e=e<n.PITCH_MIN?n.PITCH_MIN:e,t=t>n.ROLL_MAX?n.ROLL_MAX:t,t=t<n.ROLL_MIN?n.ROLL_MIN:t,i=this.getElementCenter(this.horizonElement),this.horizonElement.attributes.transform.nodeValue="translate(0, "+n.PIXELS_PER_PITCH*e+") rotate("+t+" "+i.x+" "+i.y+")",this.pitchValueText.childNodes[0].textContent=this.formatHorizonDegreeString(r),this.rollValueText.childNodes[0].textContent=this.formatHorizonDegreeString(o)}},n}),t("text!vertical-speed-html",[],function(){return'<div id="vertical-speed-module" style="width: 100%">\r\n    <object id="vertical-speed-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("VerticalSpeedIndicator",["Inheritance","IndicatorBase","text!vertical-speed-html"],function(e,t,i){var n=function(n){var r=this;n.template=i,e.inheritConstructor(t,this,n),this.init({svgId:"vertical-speed-svg",svgDataName:"vertical-speed.svg",onSvgReady:function(){r.varioElement=r.svgElement.getElementById("vario-element"),r.varioElement.setAttribute("transform",""),r.upValueText=r.svgElement.getElementById("up-value-text"),r.downValueText=r.svgElement.getElementById("down-value-text")}}),this.speedPerPixel=.045};return e.inheritPrototype(n,t),n.prototype.update=function(e){if(this.isReady){var t,i,n=e;e=e>4e3?4e3:e,e=e<-4e3?-4e3:e;var r=this.varioElement.getBBox(),o=r.x+.93*r.width,s=r.y+r.height/2;this.varioElement.attributes.transform.nodeValue="rotate("+this.speedPerPixel*e+" "+o+" "+s+")",this.isPositiveNumber(n)?(t=this.formatVSpeedString(n),i="00000"):this.isNegativeNumber(n)&&(t="00000",i=this.formatVSpeedString(n)),this.upValueText.childNodes[0].textContent=t,this.downValueText.childNodes[0].textContent=i}},n}),t("text!stick-html",[],function(){return'<div id="stick-module" style="width: 100%">\r\n    <object id="stick-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("StickIndicator",["Inheritance","IndicatorBase","text!stick-html"],function(e,t,i){var n=function(n){var r=this;n.template=i,e.inheritConstructor(t,this,n),this.init({svgId:"stick-svg",svgDataName:"stick.svg",onSvgReady:function(){r.stickElement=r.svgElement.getElementById("stick-element"),r.stickElement.setAttribute("transform","")}}),this.bounds={high:175,low:-175}};return e.inheritPrototype(n,t),n.prototype.update=function(e,t){if(this.isReady){e=e>1?1:e,e=e<-1?-1:e,t=t>1?1:t,t=t<-1?-1:t;var i,n;i=this.isPositiveNumber(e)?this.calculatePercentage(e,this.bounds.high):this.isNegativeNumber(e)?this.calculatePercentage(e,this.bounds.low):0,n=this.isPositiveNumber(t)?this.calculatePercentage(t,this.bounds.high):this.isNegativeNumber(t)?this.calculatePercentage(t,this.bounds.low):0,this.stickElement.attributes.transform.nodeValue="translate("+i+", "+-n+")"}},n}),t("text!pedal-html",[],function(){return'<div id="pedal-module" style="width: 100%">\r\n        <object id="pedal-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n    </div>'}),t("PedalIndicator",["Inheritance","IndicatorBase","text!pedal-html"],function(e,t,i){var n=function(n){var r=this;n.template=i,e.inheritConstructor(t,this,n),this.init({svgId:"pedal-svg",svgDataName:"pedal.svg",onSvgReady:function(){r.pedalLeftElement=r.svgElement.getElementById("pedal-left-element"),r.pedalRightElement=r.svgElement.getElementById("pedal-right-element"),r.pedalLeftElement.setAttribute("transform",""),r.pedalRightElement.setAttribute("transform","")}}),this.bounds={high:373}};return e.inheritPrototype(n,t),n.prototype.update=function(e,t){if(this.isReady){e=e>1?1:e,e=e<0?0:e,t=t>1?1:t,t=t<0?0:t;var i,n;i=this.calculatePercentage(e,this.bounds.high),n=this.calculatePercentage(t,this.bounds.high),this.pedalLeftElement.attributes.transform.nodeValue="translate(0, "+i+")",this.pedalRightElement.attributes.transform.nodeValue="translate(0, "+n+")"}},n}),t("text!collective-html",[],function(){return'<div id="collective-module" style="width: 100%">\r\n    <object id="collective-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("CollectiveIndicator",["Inheritance","IndicatorBase","text!collective-html"],function(e,t,i){var n=function(n){var r=this;n.template=i,e.inheritConstructor(t,this,n),this.init({svgId:"collective-svg",svgDataName:"collective.svg",onSvgReady:function(){r.collectiveElement=r.svgElement.getElementById("collective-element"),r.collectiveValueText=r.svgElement.getElementById("collective-value-text"),r.collectiveElement.setAttribute("transform","")}})};return e.inheritPrototype(n,t),n.prototype.update=function(e){if(this.isReady){e=e>60?60:e,e=e<0?0:e;var t=this.collectiveElement.getBBox(),i=t.x,n=t.y+t.height/2;this.collectiveElement.attributes.transform.nodeValue="rotate("+-e+" "+i+" "+n+")",this.collectiveValueText.childNodes[0].textContent=this.formatSpeedDegreeString(e)}},n}),t("src/base/FlightIndicator",["TypeCheck","HeadingIndicator","SpeedIndicator","AltitudeIndicator","HorizonIndicator","VerticalSpeedIndicator","StickIndicator","PedalIndicator","CollectiveIndicator","BaseOptions"],function(e,t,i,n,r,o,s,a,d,l){return{Heading:t,Speed:i,Altitude:n,Horizon:r,VerticalSpeed:o,Stick:s,Pedal:a,Collective:d,setOptions:function(t){l.assets=e.isString(t.assets)?t.assets:function(){return console.info("The standard asset path is used"),l.assets}()}}}),e("src/base/FlightIndicator")});