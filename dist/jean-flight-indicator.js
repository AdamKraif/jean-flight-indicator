!function(e,t){"function"==typeof define&&define.amd?define([],t):(e.FlightIndicator=e.FlightIndicator||{},e.FlightIndicator=t())}(this,function(){var e,t;return function(n){function i(e){for(var t=0,n=[];t<e.length;t++){var i=s.resolved[e[t]];i&&n.push(i)}return n}function r(){for(var e in s.unresolved){var t=s.unresolved[e],n=i(t.dependencies);o(e,t.factory,t.dependencies,n,!1)}}function o(e,t,n,i,r){if(i.length===n.length){var o=t.apply(t,i);s.resolved[e]=o||{}}else r&&(s.unresolved[e]={dependencies:n,factory:t})}var s={resolved:{},unresolved:{}};t=function(e,t,n){return s.resolved[e]?void console.warn("There is already a module with id <"+e+"> defined. Therefore this module will be ignored"):"string"==typeof e&&Array.isArray(t)&&"function"==typeof n?(0===t.length?o(e,n,t,[],!1):o(e,n,t,i(t),!0),void r()):void console.warn("Passed arguments for module are invalid")},t.amd={},e=function(e,t){e=Array.isArray(e)?e:[e];var n=i(e);if(1===n.length&&!t)return n[0];if(n.length!==e.length||!t)throw new Error("Not all modules are resolved");t.apply(t,n)}}(),t("node_modules/jean-amd/dist/jean-amd",function(){}),t("TypeCheck",[],function(){return{isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:function(e){return!this.isArray(e)&&null!==e&&"object"==typeof e},isEmptyObject:function(e){var t=!1;return this.isObject(e)&&0===Object.keys(e).length&&(t=!0),t},isFunction:function(e){return"function"==typeof e},isDefined:function(e){return void 0!==e&&null!=e},isArray:function(e){return Array.isArray(e)},isEmptyArray:function(e){return this.isArray(e)&&0===e.length},isArrayTypeOf:function(e,t){var n=!0;if(!this.isString(t))throw new TypeError("options.type is not a string");if(!Array.isArray(e))throw new TypeError("options.array is not an array");0===e.length&&(n=!1);for(var i=0,r=e.length;i<r;i++){if(typeof e[i]!==t){n=!1;break}}return n},areObjectsInstanceOf:function(e,t){if(!this.isArray(e))throw new TypeError("array is not an array");if(!this.isFunction(t))throw new TypeError("fn is not a function");var n,i,r=e.length,o=!0;for(n=0;n<r;n++)if(i=e[n],!this.isObject(i)||!this.isInstanceOf(i,t)){o=!1;break}return o},areObjectsInstancesOf:function(e,t){var n,i,r,o,s=e.length,a=t.length,d=!0;if(!this.isArray(e))throw new TypeError("objects is not an array");if(!this.isArray(t))throw new TypeError("constructors is not an array");if(!this.isArrayTypeOf(t,"function"))throw new TypeError("constructors is not an array of constructor functions");for(n=0;n<s;n++){for(r=e[n],o=!0,i=0;i<a&&this.isObject(r);i++)if(this.isInstanceOf(r,t[i])){o=!1;break}if(!0===o){d=!1;break}}return d},isInstanceOf:function(e,t){if(!this.isObject(e))throw new TypeError("child is not an object");if(!this.isFunction(t))throw new TypeError("parent is not a function");return e instanceof t},isEnumValue:function(e,t){if(!this.isString(e)&&!this.isNumber(e))throw new TypeError("value must be a String or a Number");if(!this.isObject(t))throw new TypeError("o is not an object");var n,i=Object.keys(t),r=i.length,o=!1;for(n=0;n<r;n++)if(t[i[n]]===e){o=!0;break}return o}}}),t("Inheritance",["TypeCheck"],function(e){return{inheritConstructor:function(t,n,i){var r=!1,i=i||{};return e.isFunction(t)&&e.isObject(n)&&(Array.isArray(i)?t.apply(n,i):t.apply(n,[i]),r=!0),r},inheritPrototype:function(t,n){var i=!1;return e.isFunction(t)&&e.isFunction(n)&&(t.prototype=Object.create(n.prototype),t.prototype.constructor=t,i=!0),i}}}),t("NotImplementedError",[],function(){var e=function(e){this.name="NotImplementedError",this.message=e||"Function must be implemented in Class"};return e.prototype=Error.prototype,e}),t("Failure",[],function(){return{throwError:function(e){throw new Error(e)},throwTypeError:function(e){throw new TypeError(e)}}}),t("Interface",["NotImplementedError","TypeCheck","Failure"],function(e,t,n){return{areMembersImplemented:function(e,i){t.isObject(i)||n.throwTypeError("instance is not an object"),t.isArrayTypeOf(e,"string")||n.throwTypeError("memberList is no a string array");var r,o=e.length,s="",a=[];for(r=0;r<o;r++)s=e[r],i.hasOwnProperty(s)||a.push(s);if(a.length>0)throw new TypeError("Members "+a.join(" ")+" are not implemented");return!0},areMethodsImplemented:function(i,r){t.isObject(r)||n.throwTypeError("instance is not an object"),t.isArrayTypeOf(i,"string")||n.throwTypeError("methodList is no a string array");var o,s=i.length,a="",d=Object.getPrototypeOf(r),l=[];for(o=0;o<s;o++)a=i[o],d.hasOwnProperty(a)||l.push(a);if(l.length>0)throw new e("Methods "+l.join(" ")+" are not implemented");return!0}}}),t("BaseOptions",[],function(){return{assets:"img/"}}),t("IndicatorBase",["TypeCheck","Interface","Failure","BaseOptions"],function(e,t,n,i){var r=function(i){e.isString(i.containerId)||n.throwTypeError("options.containerId is not a string"),t.areMethodsImplemented(["update"],this),this.svgElement=null,this.options=i,this.container=null,this.isReady=!1};return r.prototype.init=function(e){var t=this.options.containerId;this.container=document.getElementById(t),this.container||n.throwTypeError("There is no indicator container with id: "+t),this.container.innerHTML=this.options.template;var r=document.getElementById(e.svgId),o=this;r.data=i.assets+e.svgDataName,r.addEventListener("load",function(){o.svgElement=r.contentDocument,o.isReady=!0,e.onSvgReady()},!0)},r.prototype.calculatePercentage=function(e,t){return Math.abs(e)*t},r.prototype.isPositiveNumber=function(e){return e>0},r.prototype.isNegativeNumber=function(e){return e<0},r.prototype.formatCompassDegreeString=function(e){var t="";if(e=e.toFixed(0),this.isPositiveNumber(e))switch(e=e.toString(),e.length){case 1:t="000"+e;break;case 2:t="00"+e;break;case 3:t="0"+e}else if(this.isNegativeNumber(e))switch(e=Math.abs(e),e=e.toString(),e.length){case 1:t="-00"+e;break;case 2:t="-0"+e;break;case 3:t="-"+e}else t="0000";return t},r.prototype.formatHorizonDegreeString=r.prototype.formatSpeedDegreeString=function(e){var t="";if(e=e.toFixed(0),this.isPositiveNumber(e))switch(e=e.toString(),e.length){case 1:t="00"+e;break;case 2:t="0"+e;break;case 3:case 4:t=e}else if(this.isNegativeNumber(e))switch(e=Math.abs(e),e=e.toString(),e.length){case 1:t="-0"+e;break;case 2:t="-"+e;break;case 3:case 4:t=e}else t="000";return t},r.prototype.formatVSpeedString=r.prototype.formatAltitudeString=function(e){var t="";if(e=e.toFixed(0),this.isPositiveNumber(e))switch(e=e.toString(),e.length){case 1:t="0000"+e;break;case 2:t="000"+e;break;case 3:t="00"+e;break;case 4:t="0"+e;break;case 5:case 6:t=e}else if(this.isNegativeNumber(e))switch(e=Math.abs(e),e=e.toString(),e.length){case 1:t="-000"+e;break;case 2:t="-00"+e;break;case 3:t="-0"+e;break;case 4:t="-"+e;break;case 5:case 6:t=e}else t="00000";return t},r.prototype.getElementCenter=function(e){var t=e.getBBox();return{x:t.x+t.width/2,y:t.y+t.height/2}},r}),t("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),t("text!heading-html",[],function(){return'<div id="heading-module" style="width: 100%">\r\n    <object id="heading-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("HeadingIndicator",["Inheritance","IndicatorBase","text!heading-html"],function(e,t,n){var i=function(i){var r=this;i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"heading-svg",svgDataName:"heading.svg",onSvgReady:function(){r.compassRose=r.svgElement.getElementById("compass-rose"),r.compassValueText=r.svgElement.getElementById("compass-value-text"),r.compassRose.setAttribute("transform","")}})};return e.inheritPrototype(i,t),i.prototype.update=function(e){if(this.isReady){e=e>360?360:e,e=e<-360?-360:e;var t=this.getElementCenter(this.compassRose);this.compassRose.attributes.transform.nodeValue="rotate("+-e+" "+t.x+" "+t.y+")",this.compassValueText.childNodes[0].textContent=this.formatCompassDegreeString(e)}},i}),t("text!speed-html",[],function(){return'<div id="speed-module" style="width: 100%">\r\n    <object id="speed-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("SpeedIndicator",["Inheritance","IndicatorBase","text!speed-html"],function(e,t,n){var i=function(i){var r=this;i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"speed-svg",svgDataName:"speed.svg",onSvgReady:function(){r.speedNeedle=r.svgElement.getElementById("speed-needle"),r.speedValueText=r.svgElement.getElementById("speed-value-text"),r.speedNeedle.setAttribute("transform","")}})};return e.inheritPrototype(i,t),i.prototype.update=function(e){if(this.isReady){e=e>160?160:e,e=e<0?0:e;var t=this.speedNeedle.getBBox(),n=t.x+t.width/2,i=t.y+.94*t.height;this.speedNeedle.attributes.transform.nodeValue="rotate("+2*e+" "+n+" "+i+")",this.speedValueText.childNodes[0].textContent=this.formatSpeedDegreeString(e)}},i}),t("text!altitude-html",[],function(){return'<div id="altitude-module" style="width: 100%">\r\n    <object id="altitude-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("AltitudeIndicator",["Inheritance","IndicatorBase","text!altitude-html"],function(e,t,n){var i=function(i){var r=this;i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"altitude-svg",svgDataName:"altitude.svg",onSvgReady:function(){r.altitudeValueText=r.svgElement.getElementById("altitude-value-text"),r.hundredNeedle=r.svgElement.getElementById("needle-alt-hundred"),r.thousandNeedle=r.svgElement.getElementById("needle-alt-thousand"),r.tenthousandNeedle=r.svgElement.getElementById("needle-alt-tenthousand"),r.hundredNeedle.setAttribute("transform",""),r.thousandNeedle.setAttribute("transform",""),r.tenthousandNeedle.setAttribute("transform","")}}),this.degreePerHundredFeet=.36,this.degreePerThousandFeet=.036,this.degreePerTenthousandFeet=.0036};return e.inheritPrototype(i,t),i.prototype.update=function(e){if(this.isReady){e=e>1e5?1e5:e,e=e<0?0:e;var t=this.hundredNeedle.getBBox(),n=t.x+t.width/2,i=t.y+.94*t.height,r=this.degreePerHundredFeet,o=this.degreePerThousandFeet,s=this.degreePerTenthousandFeet;this.hundredNeedle.attributes.transform.nodeValue="rotate("+r*e+" "+n+" "+i+")",this.thousandNeedle.attributes.transform.nodeValue="rotate("+o*e+" "+n+" "+i+")",this.tenthousandNeedle.attributes.transform.nodeValue="rotate("+s*e+" "+n+" "+i+")",this.altitudeValueText.childNodes[0].textContent=this.formatAltitudeString(e)}},i}),t("text!horizon-html",[],function(){return'<div id="horizon-module" style="width: 100%">\r\n    <object id="horizon-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("HorizonIndicator",["Inheritance","IndicatorBase","text!horizon-html"],function(e,t,n){var i=function(i){var r=this;i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"horizon-svg",svgDataName:"horizon.svg",onSvgReady:function(){r.horizonElement=r.svgElement.getElementById("horizon-element"),r.horizonElement.setAttribute("transform",""),r.pitchValueText=r.svgElement.getElementById("pitch-value-text"),r.rollValueText=r.svgElement.getElementById("roll-value-text")}}),this.pixelBounds={PITCH_MAX:128,PITCH_MIN:-128,PIXELS_PER_PITCH:3.2},this.valueBounds={PITCH_MAX:40,PITCH_MIN:-40,ROLL_MAX:30,ROLL_MIN:-30}};return e.inheritPrototype(i,t),i.prototype.update=function(e,t){if(this.isReady){var n,i=this.pixelBounds,r=e,o=t;e=e>i.PITCH_MAX?i.PITCH_MAX:e,e=e<i.PITCH_MIN?i.PITCH_MIN:e,t=t>i.ROLL_MAX?i.ROLL_MAX:t,t=t<i.ROLL_MIN?i.ROLL_MIN:t,n=this.getElementCenter(this.horizonElement),this.horizonElement.attributes.transform.nodeValue="translate(0, "+i.PIXELS_PER_PITCH*e+") rotate("+t+" "+n.x+" "+n.y+")",this.pitchValueText.childNodes[0].textContent=this.formatHorizonDegreeString(r),this.rollValueText.childNodes[0].textContent=this.formatHorizonDegreeString(o)}},i}),t("text!vertical-speed-html",[],function(){return'<div id="vertical-speed-module" style="width: 100%">\r\n    <object id="vertical-speed-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("VerticalSpeedIndicator",["Inheritance","IndicatorBase","text!vertical-speed-html"],function(e,t,n){var i=function(i){var r=this;i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"vertical-speed-svg",svgDataName:"vertical-speed.svg",onSvgReady:function(){r.varioElement=r.svgElement.getElementById("vario-element"),r.varioElement.setAttribute("transform",""),r.upValueText=r.svgElement.getElementById("up-value-text"),r.downValueText=r.svgElement.getElementById("down-value-text")}}),this.speedPerPixel=.045};return e.inheritPrototype(i,t),i.prototype.update=function(e){if(this.isReady){var t,n,i=e;e=e>4e3?4e3:e,e=e<-4e3?-4e3:e;var r=this.varioElement.getBBox(),o=r.x+.93*r.width,s=r.y+r.height/2;this.varioElement.attributes.transform.nodeValue="rotate("+this.speedPerPixel*e+" "+o+" "+s+")",this.isPositiveNumber(i)?(t=this.formatVSpeedString(i),n="00000"):this.isNegativeNumber(i)&&(t="00000",n=this.formatVSpeedString(i)),this.upValueText.childNodes[0].textContent=t,this.downValueText.childNodes[0].textContent=n}},i}),t("text!turn-html",[],function(){return'<div id="turn-module" style="width: 100%">\r\n    <object id="turn-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("TurnIndicator",["Inheritance","IndicatorBase","text!turn-html"],function(e,t,n){var i=function(i){i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"turn-svg",svgDataName:"turn.svg",onSvgReady:function(){}}),this.speedPerPixel=.045};return e.inheritPrototype(i,t),i.prototype.update=function(e){if(this.isReady){var t,n,i=e;e=e>4e3?4e3:e,e=e<-4e3?-4e3:e;var r=this.varioElement.getBBox(),o=r.x+.93*r.width,s=r.y+r.height/2;this.varioElement.attributes.transform.nodeValue="rotate("+this.speedPerPixel*e+" "+o+" "+s+")",this.isPositiveNumber(i)?(t=this.formatVSpeedString(i),n="00000"):this.isNegativeNumber(i)&&(t="00000",n=this.formatVSpeedString(i)),this.upValueText.childNodes[0].textContent=t,this.downValueText.childNodes[0].textContent=n}},i}),t("text!stick-html",[],function(){return'<div id="stick-module" style="width: 100%">\r\n    <object id="stick-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("StickIndicator",["Inheritance","IndicatorBase","text!stick-html"],function(e,t,n){var i=function(i){var r=this;i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"stick-svg",svgDataName:"stick.svg",onSvgReady:function(){r.stickElement=r.svgElement.getElementById("stick-element"),r.stickElement.setAttribute("transform","")}}),this.bounds={high:175,low:-175}};return e.inheritPrototype(i,t),i.prototype.update=function(e,t){if(this.isReady){e=e>1?1:e,e=e<-1?-1:e,t=t>1?1:t,t=t<-1?-1:t;var n,i;n=this.isPositiveNumber(e)?this.calculatePercentage(e,this.bounds.high):this.isNegativeNumber(e)?this.calculatePercentage(e,this.bounds.low):0,i=this.isPositiveNumber(t)?this.calculatePercentage(t,this.bounds.high):this.isNegativeNumber(t)?this.calculatePercentage(t,this.bounds.low):0,this.stickElement.attributes.transform.nodeValue="translate("+n+", "+-i+")"}},i}),t("text!pedal-html",[],function(){return'<div id="pedal-module" style="width: 100%">\r\n        <object id="pedal-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n    </div>'}),t("PedalIndicator",["Inheritance","IndicatorBase","text!pedal-html"],function(e,t,n){var i=function(i){var r=this;i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"pedal-svg",svgDataName:"pedal.svg",onSvgReady:function(){r.pedalLeftElement=r.svgElement.getElementById("pedal-left-element"),r.pedalRightElement=r.svgElement.getElementById("pedal-right-element"),r.pedalLeftElement.setAttribute("transform",""),r.pedalRightElement.setAttribute("transform","")}}),this.bounds={high:373}};return e.inheritPrototype(i,t),i.prototype.update=function(e,t){if(this.isReady){e=e>1?1:e,e=e<0?0:e,t=t>1?1:t,t=t<0?0:t;var n,i;n=this.calculatePercentage(e,this.bounds.high),i=this.calculatePercentage(t,this.bounds.high),this.pedalLeftElement.attributes.transform.nodeValue="translate(0, "+n+")",this.pedalRightElement.attributes.transform.nodeValue="translate(0, "+i+")"}},i}),t("text!collective-html",[],function(){return'<div id="collective-module" style="width: 100%">\r\n    <object id="collective-svg" style="width: 100%" data="" type="image/svg+xml"></object>\r\n</div>'}),t("CollectiveIndicator",["Inheritance","IndicatorBase","text!collective-html"],function(e,t,n){var i=function(i){var r=this;i.template=n,e.inheritConstructor(t,this,i),this.init({svgId:"collective-svg",svgDataName:"collective.svg",onSvgReady:function(){r.collectiveElement=r.svgElement.getElementById("collective-element"),r.collectiveValueText=r.svgElement.getElementById("collective-value-text"),r.collectiveElement.setAttribute("transform","")}})};return e.inheritPrototype(i,t),i.prototype.update=function(e){if(this.isReady){e=e>60?60:e,e=e<0?0:e;var t=this.collectiveElement.getBBox(),n=t.x,i=t.y+t.height/2;this.collectiveElement.attributes.transform.nodeValue="rotate("+-e+" "+n+" "+i+")",this.collectiveValueText.childNodes[0].textContent=this.formatSpeedDegreeString(e)}},i}),t("src/base/FlightIndicator",["TypeCheck","HeadingIndicator","SpeedIndicator","AltitudeIndicator","HorizonIndicator","VerticalSpeedIndicator","TurnIndicator","StickIndicator","PedalIndicator","CollectiveIndicator","BaseOptions"],function(e,t,n,i,r,o,s,a,d,l,h){return{Heading:t,Speed:n,Altitude:i,Horizon:r,VerticalSpeed:o,Stick:a,Pedal:d,Collective:l,Turn:s,setOptions:function(t){h.assets=e.isString(t.assets)?t.assets:function(){return console.info("The standard asset path is used"),h.assets}()}}}),e("src/base/FlightIndicator")});